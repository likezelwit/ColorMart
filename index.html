<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download Warna â€¢ Cute Color Shop</title>

<style>
:root{
  --bg:#fff6fb;
  --text:#333;
}
*{box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont;}
body{margin:0;background:var(--bg);color:var(--text);}
header{padding:16px;font-size:22px;font-weight:700;text-align:center;}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
  gap:14px;padding:16px;
}
.card{
  background:#fff;border-radius:18px;padding:14px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
  cursor:pointer;transition:.2s;
}
.card:hover{transform:translateY(-4px);}
.preview{height:90px;border-radius:14px;}
.name{font-weight:600;margin-top:8px;}
.mb{font-size:12px;opacity:.7;}

.page{display:none;min-height:100vh;padding:20px;}
.page.active{display:block;}
.close{position:fixed;top:14px;right:16px;font-size:22px;cursor:pointer;}

.detail-box{max-width:600px;margin:auto;}
.hero{height:160px;border-radius:20px;margin-bottom:16px;}
.download-btn{
  margin-top:30px;padding:14px;
  background:#000;color:#fff;
  border-radius:14px;text-align:center;cursor:pointer;
}

.download-page{text-align:center;color:#fff;}
.progress-wrap{
  max-width:400px;margin:40px auto 10px;
  background:rgba(255,255,255,.35);
  border-radius:20px;overflow:hidden;
}
.bar{height:16px;width:0%;background:#fff;transition:width .2s;}
.msg{margin-top:12px;font-size:14px;}

.alert{
  position:fixed;top:0;left:0;right:0;
  background:#000;color:#fff;padding:10px;font-size:13px;
  display:none;cursor:pointer;
}
.alert .mini{height:4px;background:#444;margin-top:6px;}
.alert .mini div{height:100%;width:0%;background:#fff;}

.loading-stripes{
  background:repeating-linear-gradient(
    90deg,
    rgba(255,255,255,.9),
    rgba(255,255,255,.9) 10px,
    rgba(255,255,255,.4) 10px,
    rgba(255,255,255,.4) 20px
  );
  animation:move .8s linear infinite;
}
@keyframes move{
  from{background-position:0 0;}
  to{background-position:40px 0;}
}
</style>
</head>

<body>

<div class="alert" id="alertBar" onclick="openDownload()">
  <div id="alertText"></div>
  <div class="mini"><div id="alertProg"></div></div>
</div>

<header>ðŸŽ¨ Download Warna</header>

<div id="home" class="page active">
  <div class="grid" id="grid"></div>
</div>

<div id="detail" class="page">
  <div class="close" onclick="show('home')">âœ•</div>
  <div class="detail-box">
    <div id="hero" class="hero"></div>
    <h2 id="dName"></h2>
    <p><b>Jenis:</b> <span id="dType"></span></p>
    <p><b>Golongan:</b> <span id="dGroup"></span></p>
    <p><b>Asal-usul:</b> <span id="dOrigin"></span></p>
    <div class="download-btn" onclick="startDownload()">Download Warna</div>
  </div>
</div>

<div id="download" class="page download-page">
  <div class="close" onclick="show('detail')">âœ•</div>
  <h2 id="downTitle"></h2>
  <div class="progress-wrap"><div class="bar" id="bar"></div></div>
  <div id="percent">0%</div>
  <div class="msg" id="msg"></div>
  <div class="msg" id="code"></div>
</div>

<script>
const colors=[
 {name:"Candy Pink",hex:"#FF9ACD",mb:2,type:"Primer",group:"Pastel",origin:"Terinspirasi permen manis"},
 {name:"Sky Mint",hex:"#9FF3C4",mb:5,type:"Sekunder",group:"Cool",origin:"Langit pagi & daun mint"},
 {name:"Lavender Pop",hex:"#C7B7FF",mb:8,type:"Tersier",group:"Pastel",origin:"Bunga lavender"},
 {name:"Sunny Peach",hex:"#FFB38A",mb:12,type:"Sekunder",group:"Warm",origin:"Buah peach matang"},
 {name:"Ocean Blue",hex:"#4DA6FF",mb:20,type:"Primer",group:"Cool",origin:"Laut dalam"},
 {name:"Matcha Cream",hex:"#A8D5A2",mb:25,type:"Tersier",group:"Soft",origin:"Teh matcha Jepang"}
];

let current=null,prog=0,timer=null,activePage="home";

colors.forEach((c,i)=>{
  grid.innerHTML+=`
  <div class="card" onclick="openDetail(${i})">
    <div class="preview" style="background:${c.hex}"></div>
    <div class="name">${c.name}</div>
    <div class="mb">${c.mb} MB</div>
  </div>`;
});

function show(p){
  activePage=p;
  document.querySelectorAll(".page").forEach(x=>x.classList.remove("active"));
  document.getElementById(p).classList.add("active");
  alertText.style.display = p==="download"?"none":"block";
}

function openDetail(i){
  current=colors[i];
  hero.style.background=current.hex;
  dName.textContent=current.name;
  dType.textContent=current.type;
  dGroup.textContent=current.group;
  dOrigin.textContent=current.origin;
  show("detail");
}

function openDownload(){show("download");}

function startDownload(){
  prog=0;
  bar.style.width="0%";
  percent.textContent="0%";
  code.textContent="";
  msg.textContent="Pesan: menyiapkan file warna...";
  downTitle.textContent="Downloading "+current.name;
  download.style.background=current.hex;
  alertBar.style.display="block";
  show("download");

  clearInterval(timer);
  timer=setInterval(realisticProgress, random(80,180));
}

function realisticProgress(){
  if(prog < 20){
    prog += random(1,4);
    msg.textContent="Pesan: ekstraksi pigmen...";
  }else if(prog < 55){
    prog += random(0,2);
    msg.textContent="Pesan: normalisasi warna...";
  }else if(prog < 80){
    prog += random(1,3);
    msg.textContent="Pesan: menyempurnakan tone...";
  }else if(prog < 99){
    prog += random(0,1);
    msg.textContent="Pesan: finalisasi...";
  }else if(prog >= 99 && prog < 100){
    prog = 100;
    msg.textContent="Pesan: menyelesaikan proses...";
    bar.classList.add("loading-stripes");
    setTimeout(finishDownload,1800);
    clearInterval(timer);
  }

  bar.style.width=prog+"%";
  percent.textContent=prog+"%";
  alertProg.style.width=prog+"%";

  if(activePage!=="download"){
    alertText.textContent=`Downloading ${current.name} â€¢ ${prog}%`;
  }
}

function finishDownload(){
  bar.classList.remove("loading-stripes");
  msg.textContent="cek! loading muncul!";
  code.textContent="Kode warna: "+current.hex;
}

function random(min,max){
  return Math.floor(Math.random()*(max-min+1))+min;
}
</script>

</body>
</html>
